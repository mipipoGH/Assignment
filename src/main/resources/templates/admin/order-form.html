<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <title th:text="${title}">Thêm/Sửa hóa đơn</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>

        <h2 th:text="${title}">Thêm/Sửa hóa đơn</h2>

        <form th:action="@{${order.maHD} == null ? '/admin/orders/create' : '/admin/orders/update'}" th:object="${order}" method="post">

            <!-- Mã hóa đơn (khóa chính) -->
            <div class="mb-3">
                <label for="maHD" class="form-label">Mã hóa đơn</label>
                <input type="text" th:field="*{maHD}" id="maHD" class="form-control"
                       th:attr="readonly=${order.maHD != null}" placeholder="Nhập mã hóa đơn" required />
            </div>

            <!-- Khách hàng -->
            <select th:field="*{khachHang.maKH}" class="form-select" required>
                <option value="">-- Chọn khách hàng --</option>
                <option th:each="kh : ${khachHangs}" th:value="${kh.maKH}" th:text="${kh.hoTen}"></option>
            </select>

            <!-- Nhân viên -->
            <div class="mb-3">
                <label for="nhanVien" class="form-label">Nhân viên</label>
                <select th:field="*{nhanVien.maNV}" class="form-select" required>
                    <option value="">-- Chọn nhân viên --</option>
                    <option th:each="nv : ${nhanViens}" th:value="${nv.maNV}" th:text="${nv.hoTen}"></option>
                </select>
            </div>


            <!-- Ngày lập -->
            <div class="mb-3">
                <label for="ngayLap" class="form-label">Ngày lập</label>
                <input type="date" th:field="*{ngayLap}" id="ngayLap" class="form-control" required />
            </div>

            <!-- Trạng thái -->
            <div class="mb-3">
                <label for="trangThai" class="form-label">Trạng thái</label>
                <select th:field="*{trangThai}" id="trangThai" class="form-select" required>
                    <option value="">-- Chọn trạng thái --</option>
                    <option value="Chờ duyệt">Chờ duyệt</option>
                    <option value="Đang giao">Đang giao</option>
                    <option value="Hoàn tất">Hoàn tất</option>
                </select>
            </div>

            <!-- Tổng tiền -->
            <div class="mb-3">
                <label for="tongTien" class="form-label">Tổng tiền</label>
                <input type="number" th:field="*{tongTien}" id="tongTien" class="form-control" placeholder="Nhập tổng tiền" min="0" step="0.01" />
            </div>

            <button type="submit" class="btn btn-success">Lưu</button>
            <a th:href="@{/admin/orders}" class="btn btn-secondary">Hủy</a>
        </form>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
