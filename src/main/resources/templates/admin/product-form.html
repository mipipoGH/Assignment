<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8" />
    <title th:text="${title}">Thêm/Sửa sản phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
<div class="container py-4">
    <h2 th:text="${title}">Thêm/Sửa sản phẩm</h2>

    <form th:action="@{${product.maSP} == null ? '/admin/products/create' : '/admin/products/update'}"
          th:object="${product}" method="post">

        <div class="mb-3">
            <label for="maSP" class="form-label">Mã sản phẩm</label>
            <input type="text" th:field="*{maSP}" id="maSP" class="form-control"
                   th:attr="readonly=${product.maSP != null}" placeholder="Nhập mã sản phẩm" required />
        </div>

        <div class="mb-3">
            <label for="tenSP" class="form-label">Tên sản phẩm</label>
            <input type="text" th:field="*{tenSP}" id="tenSP" class="form-control" placeholder="Nhập tên sản phẩm" required />
        </div>
        <div class="mb-3">
            <label for="loai" class="form-label">Loại sản phẩm</label>
            <select id="loai" th:field="*{loai.maLoai}" class="form-select" required>
                <option value="">-- Chọn loại sản phẩm --</option>
                <option th:each="loaiSP : ${loaiSanPhams}"
                        th:value="${loaiSP.maLoai}"
                        th:text="${loaiSP.tenLoai}"></option>
            </select>
        </div>

        <div class="mb-3">
            <label for="donGia" class="form-label">Đơn giá</label>
            <input type="number" th:field="*{donGia}" id="donGia" class="form-control" placeholder="Nhập đơn giá" min="0" step="0.01" required />
        </div>

        <div class="mb-3">
            <label for="soLuongTon" class="form-label">Số lượng tồn</label>
            <input type="number" th:field="*{soLuongTon}" id="soLuongTon" class="form-control" placeholder="Nhập số lượng tồn" min="0" required />
        </div>

        <button type="submit" class="btn btn-success">Lưu</button>
        <a th:href="@{/admin/products}" class="btn btn-secondary">Hủy</a>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
