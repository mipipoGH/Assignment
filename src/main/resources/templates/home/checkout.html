<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Checkout</title>

    <style>
        .page-wrapper{max-width:1100px;margin:40px auto;padding:20px}
        .glass-box{
            backdrop-filter: blur(18px);
            -webkit-backdrop-filter: blur(18px);
            background: rgba(255,255,255,0.15);
            border:1px solid rgba(255,255,255,0.25);
            border-radius:20px;
            padding:30px;
            box-shadow:0 8px 30px rgba(0,0,0,.12);
            color:#fff;
        }
        label{font-weight:600;margin-bottom:4px;color:#ddd}
        .form-control{
            background:rgba(255,255,255,0.15);
            border:1px solid rgba(255,255,255,0.25);
            color:#fff;
        }
        .form-control:focus{
            background:rgba(255,255,255,0.25);
            border-color:#87CEFA;
            box-shadow:none;
        }
        .list-group-item{
            background:rgba(255,255,255,0.1);
            border:1px solid rgba(255,255,255,0.15);
            color:#fff;
        }
        .btn-primary{background:#0d6efd;border:none}
        .btn-primary:hover{opacity:.85}
        h3,h4,strong{color:#fff}
    </style>
</head>
<body>

<div th:replace="~{layout :: layout(~{::content})}">
    <th:block th:fragment="content">
        <div class="row">
            <div class="col-md-6">
                <h3>Thông tin đặt hàng</h3>
                <form th:action="@{/order/submit}" method="post">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <div class="mb-3">
                        <label>Họ tên</label>
                        <input name="tenKH" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label>Địa chỉ</label>
                        <input name="diaChi" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label>Số điện thoại</label>
                        <input name="sdt" class="form-control" required>
                    </div>
                    <button class="btn btn-primary">Đặt hàng</button>
                </form>
            </div>
            <div class="col-md-6">
                <h4>Tóm tắt đơn hàng</h4>
                <ul class="list-group mb-3">
                    <li th:each="item : ${cart}" class="list-group-item d-flex justify-content-between align-items-center">
                        <span th:text="${item.tenSP}"></span>
                        <span th:text="${#numbers.formatDecimal(item.donGia.multiply(T(java.math.BigDecimal).valueOf(item.qty)),0,'COMMA',0,'POINT')} + ' ₫'"></span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <strong>Tổng cộng</strong>
                        <strong th:text="${#numbers.formatDecimal(total,0,'COMMA',0,'POINT')} + ' ₫'"></strong>
                    </li>
                </ul>
            </div>
        </div>
    </th:block>
</div>

</body>
</html>
